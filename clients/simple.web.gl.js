!function(t){var e={};function r(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=e,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(i,n,function(e){return t[e]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/",r(r.s=7)}({7:function(t,e,r){t.exports=r(8)},8:function(t,e,r){"use strict";r.r(e);var i={};r.r(i),r.d(i,"create",function(){return Nh}),r.d(i,"clone",function(){return kh}),r.d(i,"copy",function(){return qh}),r.d(i,"fromValues",function(){return Vh}),r.d(i,"set",function(){return Yh}),r.d(i,"identity",function(){return $h}),r.d(i,"transpose",function(){return Gh}),r.d(i,"invert",function(){return Wh}),r.d(i,"adjoint",function(){return Hh}),r.d(i,"determinant",function(){return Xh}),r.d(i,"multiply",function(){return Kh}),r.d(i,"translate",function(){return Qh}),r.d(i,"scale",function(){return Zh}),r.d(i,"rotate",function(){return Jh}),r.d(i,"rotateX",function(){return td}),r.d(i,"rotateY",function(){return ed}),r.d(i,"rotateZ",function(){return rd}),r.d(i,"fromTranslation",function(){return id}),r.d(i,"fromScaling",function(){return nd}),r.d(i,"fromRotation",function(){return sd}),r.d(i,"fromXRotation",function(){return ad}),r.d(i,"fromYRotation",function(){return od}),r.d(i,"fromZRotation",function(){return ld}),r.d(i,"fromRotationTranslation",function(){return cd}),r.d(i,"fromQuat2",function(){return ud}),r.d(i,"getTranslation",function(){return fd}),r.d(i,"getScaling",function(){return hd}),r.d(i,"getRotation",function(){return dd}),r.d(i,"fromRotationTranslationScale",function(){return pd}),r.d(i,"fromRotationTranslationScaleOrigin",function(){return bd}),r.d(i,"fromQuat",function(){return md}),r.d(i,"frustum",function(){return yd}),r.d(i,"perspective",function(){return _d}),r.d(i,"perspectiveFromFieldOfView",function(){return Od}),r.d(i,"ortho",function(){return gd}),r.d(i,"lookAt",function(){return wd}),r.d(i,"targetTo",function(){return Md}),r.d(i,"str",function(){return vd}),r.d(i,"frob",function(){return xd}),r.d(i,"add",function(){return Ad}),r.d(i,"subtract",function(){return jd}),r.d(i,"multiplyScalar",function(){return Dd}),r.d(i,"multiplyScalarAndAdd",function(){return Sd}),r.d(i,"exactEquals",function(){return Ed}),r.d(i,"equals",function(){return Rd}),r.d(i,"mul",function(){return Pd}),r.d(i,"sub",function(){return zd});var n={};r.r(n),r.d(n,"create",function(){return Td}),r.d(n,"clone",function(){return Cd}),r.d(n,"length",function(){return Bd}),r.d(n,"fromValues",function(){return Ld}),r.d(n,"copy",function(){return Id}),r.d(n,"set",function(){return Ud}),r.d(n,"add",function(){return Fd}),r.d(n,"subtract",function(){return Nd}),r.d(n,"multiply",function(){return kd}),r.d(n,"divide",function(){return qd}),r.d(n,"ceil",function(){return Vd}),r.d(n,"floor",function(){return Yd}),r.d(n,"min",function(){return $d}),r.d(n,"max",function(){return Gd}),r.d(n,"round",function(){return Wd}),r.d(n,"scale",function(){return Hd}),r.d(n,"scaleAndAdd",function(){return Xd}),r.d(n,"distance",function(){return Kd}),r.d(n,"squaredDistance",function(){return Qd}),r.d(n,"squaredLength",function(){return Zd}),r.d(n,"negate",function(){return Jd}),r.d(n,"inverse",function(){return tp}),r.d(n,"normalize",function(){return ep}),r.d(n,"dot",function(){return rp}),r.d(n,"cross",function(){return ip}),r.d(n,"lerp",function(){return np}),r.d(n,"hermite",function(){return sp}),r.d(n,"bezier",function(){return ap}),r.d(n,"random",function(){return op}),r.d(n,"transformMat4",function(){return lp}),r.d(n,"transformMat3",function(){return cp}),r.d(n,"transformQuat",function(){return up}),r.d(n,"rotateX",function(){return fp}),r.d(n,"rotateY",function(){return hp}),r.d(n,"rotateZ",function(){return dp}),r.d(n,"angle",function(){return pp}),r.d(n,"zero",function(){return bp}),r.d(n,"str",function(){return mp}),r.d(n,"exactEquals",function(){return yp}),r.d(n,"equals",function(){return _p}),r.d(n,"sub",function(){return gp}),r.d(n,"mul",function(){return wp}),r.d(n,"div",function(){return Mp}),r.d(n,"dist",function(){return vp}),r.d(n,"sqrDist",function(){return xp}),r.d(n,"len",function(){return Ap}),r.d(n,"sqrLen",function(){return jp}),r.d(n,"forEach",function(){return Dp});class s{static parse(t){return new s(256*t>>0)}asInt(){return this._raw/256>>0}asDouble(){return this._raw/256}constructor(t){this._raw=t}}var a=s;class o{static uint(t){return{value:t,type:"u",size:4,optional:!1,_marshallArg:function(t){new Uint32Array(t.buffer,t.bufferOffset,1)[0]=this.value,t.bufferOffset+=this.size}}}static uintOptional(t){return{value:t,type:"u",size:4,optional:!0,_marshallArg:function(e){new Uint32Array(e.buffer,e.bufferOffset,1)[0]=null===t?0:this.value,e.bufferOffset+=this.size}}}static fileDescriptor(t){return{value:t,type:"h",size:0,optional:!1,_marshallArg:function(t){t.fds.push(this.value)}}}static fileDescriptorOptional(t){return{value:t,type:"h",size:0,optional:!0,_marshallArg:function(t){t.fds.push(this.value)}}}static int(t){return{value:t,type:"i",size:4,optional:!1,_marshallArg:function(t){new Int32Array(t.buffer,t.bufferOffset,1)[0]=this.value,t.bufferOffset+=this.size}}}static intOptional(t){return{value:t,type:"i",size:4,optional:!0,_marshallArg:function(e){new Int32Array(e.buffer,e.bufferOffset,1)[0]=null===t?0:this.value,e.bufferOffset+=this.size}}}static fixed(t){return{value:t,type:"f",size:4,optional:!1,_marshallArg:function(t){new Int32Array(t.buffer,t.bufferOffset,1)[0]=this.value._raw,t.bufferOffset+=this.size}}}static fixedOptional(t){return{value:t,type:"f",size:4,optional:!0,_marshallArg:function(e){new Int32Array(e.buffer,e.bufferOffset,1)[0]=null===t?0:this.value._raw,e.bufferOffset+=this.size}}}static object(t){return{value:t,type:"o",size:4,optional:!1,_marshallArg:function(t){new Uint32Array(t.buffer,t.bufferOffset,1)[0]=this.value.id,t.bufferOffset+=this.size}}}static objectOptional(t){return{value:t,type:"o",size:4,optional:!0,_marshallArg:function(e){new Uint32Array(e.buffer,e.bufferOffset,1)[0]=null===t?0:this.value.id,e.bufferOffset+=this.size}}}static newObject(){return{value:0,type:"n",size:4,optional:!1,_marshallArg:function(t){new Uint32Array(t.buffer,t.bufferOffset,1)[0]=this.value,t.bufferOffset+=this.size}}}static string(t){return{value:`${t}\0`,type:"s",size:4+(t.length+1+3&-4),optional:!1,_marshallArg:function(t){new Uint32Array(t.buffer,t.bufferOffset,1)[0]=this.value.length;const e=this.value.length,r=new Uint8Array(t.buffer,t.bufferOffset+4,e);for(let t=0;t<e;t++)r[t]=this.value[t].codePointAt(0);t.bufferOffset+=this.size}}}static stringOptional(t){return{value:`${t}\0`,type:"s",size:4+(null===t?0:t.length+1+3&-4),optional:!0,_marshallArg:function(t){if(null===this.value)new Uint32Array(t.buffer,t.bufferOffset,1)[0]=0;else{new Uint32Array(t.buffer,t.bufferOffset,1)[0]=this.value.length;const e=this.value.length,r=new Uint8Array(t.buffer,t.bufferOffset+4,e);for(let t=0;t<e;t++)r[t]=this.value[t].codePointAt(0)}t.bufferOffset+=this.size}}}static array(t){return{value:t,type:"a",size:4+(t.byteLength+3&-4),optional:!1,_marshallArg:function(t){new Uint32Array(t.buffer,t.bufferOffset,1)[0]=this.value.byteLength;const e=this.value.byteLength;new Uint8Array(t.buffer,t.bufferOffset+4,e).set(new Uint8Array(this.value.buffer,0,e)),t.bufferOffset+=this.size}}}static arrayOptional(t){return{value:t,type:"a",size:4+(null===t?0:t.byteLength+3&-4),optional:!0,_marshallArg:function(t){if(null===this.value)new Uint32Array(t.buffer,t.bufferOffset,1)[0]=0;else{new Uint32Array(t.buffer,t.bufferOffset,1)[0]=this.value.byteLength;const e=this.value.byteLength;new Uint8Array(t.buffer,t.bufferOffset+4,e).set(new Uint8Array(this.value.buffer,0,e))}t.bufferOffset+=this.size}}}static _checkMessageSize(t,e){if(t.consumed+e>t.size)throw new Error("Request too short.");t.consumed+=e}static u(t){return o._checkMessageSize(t,4),t.buffer[t.bufferOffset++]}static i(t){o._checkMessageSize(t,4);const e=new Int32Array(t.buffer.buffer,t.buffer.byteOffset+t.bufferOffset*Uint32Array.BYTES_PER_ELEMENT,1)[0];return t.bufferOffset+=1,e}static f(t){o._checkMessageSize(t,4);const e=new Int32Array(t.buffer.buffer,t.buffer.byteOffset+t.bufferOffset*Uint32Array.BYTES_PER_ELEMENT,1)[0];return t.bufferOffset+=1,new a(e>>0)}static o(t,e,r){o._checkMessageSize(t,4);const i=t.buffer[t.bufferOffset++];if(e&&0===i)return null;{const t=r.wlObjects[i];if(t)return t;throw new Error(`Unknown object id ${i}`)}}static n(t){return o._checkMessageSize(t,4),t.buffer[t.bufferOffset++]}static s(t,e){o._checkMessageSize(t,4);const r=t.buffer[t.bufferOffset++];if(e&&0===r)return null;{const e=r+3&-4;o._checkMessageSize(t,e);const i=new Uint8Array(t.buffer.buffer,t.buffer.byteOffset+t.bufferOffset*Uint32Array.BYTES_PER_ELEMENT,r-1);return t.bufferOffset+=e/4,String.fromCharCode(...i)}}static a(t,e){o._checkMessageSize(t,4);const r=t.buffer[t.bufferOffset++];if(e&&0===r)return null;{const e=r+3&-4;o._checkMessageSize(t,e);const i=t.buffer.buffer.slice(t.buffer.byteOffset+t.bufferOffset*Uint32Array.BYTES_PER_ELEMENT,t.buffer.byteOffset+t.bufferOffset*Uint32Array.BYTES_PER_ELEMENT+r);return t.bufferOffset+=e,i}}static h(t){if(t.fds.length>0)return t.fds.shift();throw new Error("Not enough file descriptors in message object.")}constructor(){this.wlObjects={},this.closed=!1,this._outMessages=[],this._inMessages=[]}marshallMsg(t,e,r,i){const n={buffer:new ArrayBuffer(r),fds:[],bufferOffset:0},s=new Uint32Array(n.buffer),a=new Uint16Array(n.buffer);s[0]=t,a[2]=e,a[3]=r,n.bufferOffset=8,i.forEach(t=>t._marshallArg(n)),this.onSend(n)}async message(t){if(!(this.closed||this._inMessages.push(t)>1)){for(;this._inMessages.length;){const t=this._inMessages[0];for(t.bufferOffset=0,t.consumed=0,t.size=0;t.bufferOffset<t.buffer.length;){const e=t.buffer[t.bufferOffset],r=t.buffer[t.bufferOffset+1];t.size=r>>>16;const i=65535&r;if(t.size>t.buffer.byteLength)throw new Error("Request buffer too small");const n=this.wlObjects[e];if(!n)throw new Error(`invalid object ${e}`);t.bufferOffset+=2,t.consumed=8;try{await n[i](t)}catch(t){throw console.error(`\nwlObject: ${n.constructor.name}[${i}](..)\nname: ${t.name} message: ${t.message} text: ${t.text}\nerror object stack: \n${t.stack}\n`),this.close(),t}if(this.closed)return}this._inMessages.shift()}this.flush()}}onSend(t){this.closed||this._outMessages.push(t)}flush(){this.closed||0!==this._outMessages.length&&(this.onFlush(this._outMessages),this._outMessages=[])}onFlush(t){}close(){this.closed||(Object.values(this.wlObjects).sort((t,e)=>t.id-e.id).forEach(t=>t.destroy()),this._outMessages=null,this._inMessages=null,this.closed=!0)}registerWlObject(t){if(!this.closed){if(t.id in this.wlObjects)throw new Error(`Illegal object id: ${t.id}. Already registered.`);this.wlObjects[t.id]=t}}unregisterWlObject(t){this.closed||delete this.wlObjects[t.id]}}var l=o;var c=class{constructor(t,e,r,i,n){this.fd=t,this.fdType=e,this.fdDomainUUID=r,this._onGetTransferable=i,this._onClose=n}async getTransferable(){return await this._onGetTransferable(this)}close(){this._onClose(this)}};var u=class{constructor(t){this.id=t,this._destroyPromise=new Promise(t=>this._destroyResolver=t),this._destroyListeners=[],this._destroyPromise.then(()=>this._destroyListeners.forEach(t=>t(this)))}destroy(){this._destroyResolver()}addDestroyListener(t){this._destroyListeners.push(t)}removeDestroyListener(t){this._destroyListeners=this._destroyListeners.filter(e=>e!==t)}onDestroy(){return this._destroyPromise}};class f{static create(t){return new f(t)}constructor(t){this._fdDomainUUID=t,this._webFDs={},this._nextFD=0}fromArrayBuffer(t){if(!(t instanceof ArrayBuffer))throw new TypeError("Expected first argument to be of type ArrayBuffer.");const e=this._nextFD++,r=new c(e,"ArrayBuffer",this._fdDomainUUID,()=>Promise.resolve(t),()=>{delete this._webFDs[e]});return this._webFDs[e]=r,r}fromImageBitmap(t){if(!(t instanceof ImageBitmap))throw new TypeError("Expected first argument to be of type ImageBitmap.");const e=this._nextFD++,r=new c(e,"ImageBitmap",this._fdDomainUUID,()=>Promise.resolve(t),()=>{delete this._webFDs[e]});return this._webFDs[e]=r,r}getWebFD(t){return this._webFDs[t]}}class h extends u{constructor(t,e,r){super(r),this.display=t,this._connection=e,e.registerWlObject(this)}destroy(){super.destroy(),this._connection.unregisterWlObject(this)}_marshallConstructor(t,e,r,i){const n=new r(this.display,this._connection,this.display.generateNextId());let s=8;return i.forEach(t=>{"n"===t.type&&(t.value=n.id),s+=t.size}),this._connection.marshallMsg(t,e,s,i),n}_marshall(t,e,r){let i=8;r.forEach(t=>i+=t.size),this._connection.marshallMsg(t,e,i,r)}}const{uint:d,uintOptional:p,int:b,intOptional:m,fixed:y,fixedOptional:_,object:O,objectOptional:g,newObject:w,string:M,stringOptional:v,array:x,arrayOptional:A,fileDescriptorOptional:j,fileDescriptor:D,h:S,u:E,i:R,f:P,o:z,n:T,s:C,a:B}=l;class L extends h{constructor(t,e,r){super(t,e,r),this.listener=null}async 0(t){await this.listener.done(E(t))}}L.protocolName="wl_callback";var I=L;const{uint:U,uintOptional:F,int:N,intOptional:k,fixed:q,fixedOptional:V,object:Y,objectOptional:$,newObject:G,string:W,stringOptional:H,array:X,arrayOptional:K,fileDescriptorOptional:Q,fileDescriptor:Z,h:J,u:tt,i:et,f:rt,o:it,n:nt,s:st,a:at}=l;class ot extends h{bind(t,e,r,i){return this._marshallConstructor(this.id,0,r,[U(t),W(e),U(i),G()])}constructor(t,e,r){super(t,e,r),this.listener=null}async 0(t){await this.listener.global(tt(t),st(t,!1),tt(t))}async 1(t){await this.listener.globalRemove(tt(t))}}ot.protocolName="wl_registry";var lt=ot;const{uint:ct,uintOptional:ut,int:ft,intOptional:ht,fixed:dt,fixedOptional:pt,object:bt,objectOptional:mt,newObject:yt,string:_t,stringOptional:Ot,array:gt,arrayOptional:wt,fileDescriptorOptional:Mt,fileDescriptor:vt,h:xt,u:At,i:jt,f:Dt,o:St,n:Et,s:Rt,a:Pt}=l;class zt extends h{sync(){return this._marshallConstructor(this.id,0,I,[yt()])}getRegistry(){return this._marshallConstructor(this.id,1,lt,[yt()])}constructor(t,e,r){super(t,e,r),this.listener=null}async 0(t){await this.listener.error(St(t,!1,this._connection),At(t),Rt(t,!1))}async 1(t){await this.listener.deleteId(At(t))}}zt.protocolName="wl_display",zt.Error={invalidObject:0,invalidMethod:1,noMemory:2};var Tt=zt;const{uint:Ct,uintOptional:Bt,int:Lt,intOptional:It,fixed:Ut,fixedOptional:Ft,object:Nt,objectOptional:kt,newObject:qt,string:Vt,stringOptional:Yt,array:$t,arrayOptional:Gt,fileDescriptorOptional:Wt,fileDescriptor:Ht,h:Xt,u:Kt,i:Qt,f:Zt,o:Jt,n:te,s:ee,a:re}=l;class ie extends h{destroy(){super.destroy(),this._marshall(this.id,0,[])}attach(t,e,r){this._marshall(this.id,1,[kt(t),Lt(e),Lt(r)])}damage(t,e,r,i){this._marshall(this.id,2,[Lt(t),Lt(e),Lt(r),Lt(i)])}frame(){return this._marshallConstructor(this.id,3,I,[qt()])}setOpaqueRegion(t){this._marshall(this.id,4,[kt(t)])}setInputRegion(t){this._marshall(this.id,5,[kt(t)])}commit(t){this._marshall(this.id,6,[Ct(t)])}setBufferTransform(t){this._marshall(this.id,7,[Lt(t)])}setBufferScale(t){this._marshall(this.id,8,[Lt(t)])}damageBuffer(t,e,r,i){this._marshall(this.id,9,[Lt(t),Lt(e),Lt(r),Lt(i)])}constructor(t,e,r){super(t,e,r),this.listener=null}async 0(t){await this.listener.enter(Jt(t,!1,this._connection))}async 1(t){await this.listener.leave(Jt(t,!1,this._connection))}}ie.protocolName="wl_surface",ie.Error={invalidScale:0,invalidTransform:1};var ne=ie;const{uint:se,uintOptional:ae,int:oe,intOptional:le,fixed:ce,fixedOptional:ue,object:fe,objectOptional:he,newObject:de,string:pe,stringOptional:be,array:me,arrayOptional:ye,fileDescriptorOptional:_e,fileDescriptor:Oe,h:ge,u:we,i:Me,f:ve,o:xe,n:Ae,s:je,a:De}=l;class Se extends h{destroy(){super.destroy(),this._marshall(this.id,0,[])}add(t,e,r,i){this._marshall(this.id,1,[oe(t),oe(e),oe(r),oe(i)])}subtract(t,e,r,i){this._marshall(this.id,2,[oe(t),oe(e),oe(r),oe(i)])}constructor(t,e,r){super(t,e,r),this.listener=null}}Se.protocolName="wl_region";var Ee=Se;const{uint:Re,uintOptional:Pe,int:ze,intOptional:Te,fixed:Ce,fixedOptional:Be,object:Le,objectOptional:Ie,newObject:Ue,string:Fe,stringOptional:Ne,array:ke,arrayOptional:qe,fileDescriptorOptional:Ve,fileDescriptor:Ye,h:$e,u:Ge,i:We,f:He,o:Xe,n:Ke,s:Qe,a:Ze}=l;class Je extends h{createSurface(){return this._marshallConstructor(this.id,0,ne,[Ue()])}createRegion(){return this._marshallConstructor(this.id,1,Ee,[Ue()])}constructor(t,e,r){super(t,e,r),this.listener=null}}Je.protocolName="wl_compositor";var tr=Je;const{uint:er,uintOptional:rr,int:ir,intOptional:nr,fixed:sr,fixedOptional:ar,object:or,objectOptional:lr,newObject:cr,string:ur,stringOptional:fr,array:hr,arrayOptional:dr,fileDescriptorOptional:pr,fileDescriptor:br,h:mr,u:yr,i:_r,f:Or,o:gr,n:wr,s:Mr,a:vr}=l;class xr extends h{destroy(){super.destroy(),this._marshall(this.id,0,[])}constructor(t,e,r){super(t,e,r),this.listener=null}async 0(t){await this.listener.release()}}xr.protocolName="wl_buffer";var Ar=xr;const{uint:jr,uintOptional:Dr,int:Sr,intOptional:Er,fixed:Rr,fixedOptional:Pr,object:zr,objectOptional:Tr,newObject:Cr,string:Br,stringOptional:Lr,array:Ir,arrayOptional:Ur,fileDescriptorOptional:Fr,fileDescriptor:Nr,h:kr,u:qr,i:Vr,f:Yr,o:$r,n:Gr,s:Wr,a:Hr}=l;class Xr extends h{accept(t,e){this._marshall(this.id,0,[jr(t),Lr(e)])}receive(t,e){this._marshall(this.id,1,[Br(t),Nr(e)])}destroy(){super.destroy(),this._marshall(this.id,2,[])}finish(){this._marshall(this.id,3,[])}setActions(t,e){this._marshall(this.id,4,[jr(t),jr(e)])}constructor(t,e,r){super(t,e,r),this.listener=null}async 0(t){await this.listener.offer(Wr(t,!1))}async 1(t){await this.listener.sourceActions(qr(t))}async 2(t){await this.listener.action(qr(t))}}Xr.protocolName="wl_data_offer",Xr.Error={invalidFinish:0,invalidActionMask:1,invalidAction:2,invalidOffer:3};var Kr=Xr;const{uint:Qr,uintOptional:Zr,int:Jr,intOptional:ti,fixed:ei,fixedOptional:ri,object:ii,objectOptional:ni,newObject:si,string:ai,stringOptional:oi,array:li,arrayOptional:ci,fileDescriptorOptional:ui,fileDescriptor:fi,h:hi,u:di,i:pi,f:bi,o:mi,n:yi,s:_i,a:Oi}=l;class gi extends h{offer(t){this._marshall(this.id,0,[ai(t)])}destroy(){super.destroy(),this._marshall(this.id,1,[])}setActions(t){this._marshall(this.id,2,[Qr(t)])}constructor(t,e,r){super(t,e,r),this.listener=null}async 0(t){await this.listener.target(_i(t,!0))}async 1(t){await this.listener.send(_i(t,!1),hi(t))}async 2(t){await this.listener.cancelled()}async 3(t){await this.listener.dndDropPerformed()}async 4(t){await this.listener.dndFinished()}async 5(t){await this.listener.action(di(t))}}gi.protocolName="wl_data_source",gi.Error={invalidActionMask:0,invalidSource:1};var wi=gi;const{uint:Mi,uintOptional:vi,int:xi,intOptional:Ai,fixed:ji,fixedOptional:Di,object:Si,objectOptional:Ei,newObject:Ri,string:Pi,stringOptional:zi,array:Ti,arrayOptional:Ci,fileDescriptorOptional:Bi,fileDescriptor:Li,h:Ii,u:Ui,i:Fi,f:Ni,o:ki,n:qi,s:Vi,a:Yi}=l;class $i extends h{startDrag(t,e,r,i){this._marshall(this.id,0,[Ei(t),Si(e),Ei(r),Mi(i)])}setSelection(t,e){this._marshall(this.id,1,[Ei(t),Mi(e)])}release(){super.destroy(),this._marshall(this.id,2,[])}constructor(t,e,r){super(t,e,r),this.listener=null}async 0(t){await this.listener.dataOffer(new Kr(this._connection,qi(t)))}async 1(t){await this.listener.enter(Ui(t),ki(t,!1,this._connection),Ni(t),Ni(t),ki(t,!0,this._connection))}async 2(t){await this.listener.leave()}async 3(t){await this.listener.motion(Ui(t),Ni(t),Ni(t))}async 4(t){await this.listener.drop()}async 5(t){await this.listener.selection(ki(t,!0,this._connection))}}$i.protocolName="wl_data_device",$i.Error={role:0};var Gi=$i;const{uint:Wi,uintOptional:Hi,int:Xi,intOptional:Ki,fixed:Qi,fixedOptional:Zi,object:Ji,objectOptional:tn,newObject:en,string:rn,stringOptional:nn,array:sn,arrayOptional:an,fileDescriptorOptional:on,fileDescriptor:ln,h:cn,u:un,i:fn,f:hn,o:dn,n:pn,s:bn,a:mn}=l;class yn extends h{createDataSource(){return this._marshallConstructor(this.id,0,wi,[en()])}getDataDevice(t){return this._marshallConstructor(this.id,1,Gi,[en(),Ji(t)])}constructor(t,e,r){super(t,e,r),this.listener=null}}yn.protocolName="wl_data_device_manager",yn.DndAction={none:0,copy:1,move:2,ask:4};const{uint:_n,uintOptional:On,int:gn,intOptional:wn,fixed:Mn,fixedOptional:vn,object:xn,objectOptional:An,newObject:jn,string:Dn,stringOptional:Sn,array:En,arrayOptional:Rn,fileDescriptorOptional:Pn,fileDescriptor:zn,h:Tn,u:Cn,i:Bn,f:Ln,o:In,n:Un,s:Fn,a:Nn}=l;class kn extends h{pong(t){this._marshall(this.id,0,[_n(t)])}move(t,e){this._marshall(this.id,1,[xn(t),_n(e)])}resize(t,e,r){this._marshall(this.id,2,[xn(t),_n(e),_n(r)])}setToplevel(){this._marshall(this.id,3,[])}setTransient(t,e,r,i){this._marshall(this.id,4,[xn(t),gn(e),gn(r),_n(i)])}setFullscreen(t,e,r){this._marshall(this.id,5,[_n(t),_n(e),An(r)])}setPopup(t,e,r,i,n,s){this._marshall(this.id,6,[xn(t),_n(e),xn(r),gn(i),gn(n),_n(s)])}setMaximized(t){this._marshall(this.id,7,[An(t)])}setTitle(t){this._marshall(this.id,8,[Dn(t)])}setClass(t){this._marshall(this.id,9,[Dn(t)])}constructor(t,e,r){super(t,e,r),this.listener=null}async 0(t){await this.listener.ping(Cn(t))}async 1(t){await this.listener.configure(Cn(t),Bn(t),Bn(t))}async 2(t){await this.listener.popupDone()}}kn.protocolName="wl_shell_surface",kn.Resize={none:0,top:1,bottom:2,left:4,topLeft:5,bottomLeft:6,right:8,topRight:9,bottomRight:10},kn.Transient={inactive:1},kn.FullscreenMethod={default:0,scale:1,driver:2,fill:3};var qn=kn;const{uint:Vn,uintOptional:Yn,int:$n,intOptional:Gn,fixed:Wn,fixedOptional:Hn,object:Xn,objectOptional:Kn,newObject:Qn,string:Zn,stringOptional:Jn,array:ts,arrayOptional:es,fileDescriptorOptional:rs,fileDescriptor:is,h:ns,u:ss,i:as,f:os,o:ls,n:cs,s:us,a:fs}=l;class hs extends h{getShellSurface(t){return this._marshallConstructor(this.id,0,qn,[Qn(),Xn(t)])}constructor(t,e,r){super(t,e,r),this.listener=null}}hs.protocolName="wl_shell",hs.Error={role:0};var ds=hs;const{uint:ps,uintOptional:bs,int:ms,intOptional:ys,fixed:_s,fixedOptional:Os,object:gs,objectOptional:ws,newObject:Ms,string:vs,stringOptional:xs,array:As,arrayOptional:js,fileDescriptorOptional:Ds,fileDescriptor:Ss,h:Es,u:Rs,i:Ps,f:zs,o:Ts,n:Cs,s:Bs,a:Ls}=l;class Is extends h{setCursor(t,e,r,i){this._marshall(this.id,0,[ps(t),ws(e),ms(r),ms(i)])}release(){super.destroy(),this._marshall(this.id,1,[])}constructor(t,e,r){super(t,e,r),this.listener=null}async 0(t){await this.listener.enter(Rs(t),Ts(t,!1,this._connection),zs(t),zs(t))}async 1(t){await this.listener.leave(Rs(t),Ts(t,!1,this._connection))}async 2(t){await this.listener.motion(Rs(t),zs(t),zs(t))}async 3(t){await this.listener.button(Rs(t),Rs(t),Rs(t),Rs(t))}async 4(t){await this.listener.axis(Rs(t),Rs(t),zs(t))}async 5(t){await this.listener.frame()}async 6(t){await this.listener.axisSource(Rs(t))}async 7(t){await this.listener.axisStop(Rs(t),Rs(t))}async 8(t){await this.listener.axisDiscrete(Rs(t),Ps(t))}}Is.protocolName="wl_pointer",Is.Error={role:0},Is.ButtonState={released:0,pressed:1},Is.Axis={verticalScroll:0,horizontalScroll:1},Is.AxisSource={wheel:0,finger:1,continuous:2,wheelTilt:3};var Us=Is;const{uint:Fs,uintOptional:Ns,int:ks,intOptional:qs,fixed:Vs,fixedOptional:Ys,object:$s,objectOptional:Gs,newObject:Ws,string:Hs,stringOptional:Xs,array:Ks,arrayOptional:Qs,fileDescriptorOptional:Zs,fileDescriptor:Js,h:ta,u:ea,i:ra,f:ia,o:na,n:sa,s:aa,a:oa}=l;class la extends h{release(){super.destroy(),this._marshall(this.id,0,[])}constructor(t,e,r){super(t,e,r),this.listener=null}async 0(t){await this.listener.keymap(ea(t),ta(t),ea(t))}async 1(t){await this.listener.enter(ea(t),na(t,!1,this._connection),oa(t,!1))}async 2(t){await this.listener.leave(ea(t),na(t,!1,this._connection))}async 3(t){await this.listener.key(ea(t),ea(t),ea(t),ea(t))}async 4(t){await this.listener.modifiers(ea(t),ea(t),ea(t),ea(t),ea(t))}async 5(t){await this.listener.repeatInfo(ra(t),ra(t))}}la.protocolName="wl_keyboard",la.KeymapFormat={noKeymap:0,xkbV1:1},la.KeyState={released:0,pressed:1};var ca=la;const{uint:ua,uintOptional:fa,int:ha,intOptional:da,fixed:pa,fixedOptional:ba,object:ma,objectOptional:ya,newObject:_a,string:Oa,stringOptional:ga,array:wa,arrayOptional:Ma,fileDescriptorOptional:va,fileDescriptor:xa,h:Aa,u:ja,i:Da,f:Sa,o:Ea,n:Ra,s:Pa,a:za}=l;class Ta extends h{release(){super.destroy(),this._marshall(this.id,0,[])}constructor(t,e,r){super(t,e,r),this.listener=null}async 0(t){await this.listener.down(ja(t),ja(t),Ea(t,!1,this._connection),Da(t),Sa(t),Sa(t))}async 1(t){await this.listener.up(ja(t),ja(t),Da(t))}async 2(t){await this.listener.motion(ja(t),Da(t),Sa(t),Sa(t))}async 3(t){await this.listener.frame()}async 4(t){await this.listener.cancel()}async 5(t){await this.listener.shape(Da(t),Sa(t),Sa(t))}async 6(t){await this.listener.orientation(Da(t),Sa(t))}}Ta.protocolName="wl_touch";var Ca=Ta;const{uint:Ba,uintOptional:La,int:Ia,intOptional:Ua,fixed:Fa,fixedOptional:Na,object:ka,objectOptional:qa,newObject:Va,string:Ya,stringOptional:$a,array:Ga,arrayOptional:Wa,fileDescriptorOptional:Ha,fileDescriptor:Xa,h:Ka,u:Qa,i:Za,f:Ja,o:to,n:eo,s:ro,a:io}=l;class no extends h{getPointer(){return this._marshallConstructor(this.id,0,Us,[Va()])}getKeyboard(){return this._marshallConstructor(this.id,1,ca,[Va()])}getTouch(){return this._marshallConstructor(this.id,2,Ca,[Va()])}release(){super.destroy(),this._marshall(this.id,3,[])}constructor(t,e,r){super(t,e,r),this.listener=null}async 0(t){await this.listener.capabilities(Qa(t))}async 1(t){await this.listener.name(ro(t,!1))}}no.protocolName="wl_seat",no.Capability={pointer:1,keyboard:2,touch:4};var so=no;const{uint:ao,uintOptional:oo,int:lo,intOptional:co,fixed:uo,fixedOptional:fo,object:ho,objectOptional:po,newObject:bo,string:mo,stringOptional:yo,array:_o,arrayOptional:Oo,fileDescriptorOptional:go,fileDescriptor:wo,h:Mo,u:vo,i:xo,f:Ao,o:jo,n:Do,s:So,a:Eo}=l;class Ro extends h{release(){super.destroy(),this._marshall(this.id,0,[])}constructor(t,e,r){super(t,e,r),this.listener=null}async 0(t){await this.listener.geometry(xo(t),xo(t),xo(t),xo(t),xo(t),So(t,!1),So(t,!1),xo(t))}async 1(t){await this.listener.mode(vo(t),xo(t),xo(t),xo(t))}async 2(t){await this.listener.done()}async 3(t){await this.listener.scale(xo(t))}}Ro.protocolName="wl_output",Ro.Subpixel={unknown:0,none:1,horizontalRgb:2,horizontalBgr:3,verticalRgb:4,verticalBgr:5},Ro.Transform={normal:0,90:1,180:2,270:3,flipped:4,flipped90:5,flipped180:6,flipped270:7},Ro.Mode={current:1,preferred:2};const{uint:Po,uintOptional:zo,int:To,intOptional:Co,fixed:Bo,fixedOptional:Lo,object:Io,objectOptional:Uo,newObject:Fo,string:No,stringOptional:ko,array:qo,arrayOptional:Vo,fileDescriptorOptional:Yo,fileDescriptor:$o,h:Go,u:Wo,i:Ho,f:Xo,o:Ko,n:Qo,s:Zo,a:Jo}=l;class tl extends h{destroy(){super.destroy(),this._marshall(this.id,0,[])}setPosition(t,e){this._marshall(this.id,1,[To(t),To(e)])}placeAbove(t){this._marshall(this.id,2,[Io(t)])}placeBelow(t){this._marshall(this.id,3,[Io(t)])}setSync(){this._marshall(this.id,4,[])}setDesync(){this._marshall(this.id,5,[])}constructor(t,e,r){super(t,e,r),this.listener=null}}tl.protocolName="wl_subsurface",tl.Error={badSurface:0};var el=tl;const{uint:rl,uintOptional:il,int:nl,intOptional:sl,fixed:al,fixedOptional:ol,object:ll,objectOptional:cl,newObject:ul,string:fl,stringOptional:hl,array:dl,arrayOptional:pl,fileDescriptorOptional:bl,fileDescriptor:ml,h:yl,u:_l,i:Ol,f:gl,o:wl,n:Ml,s:vl,a:xl}=l;class Al extends h{destroy(){super.destroy(),this._marshall(this.id,0,[])}getSubsurface(t,e){return this._marshallConstructor(this.id,1,el,[ul(),ll(t),ll(e)])}constructor(t,e,r){super(t,e,r),this.listener=null}}Al.protocolName="wl_subcompositor",Al.Error={badSurface:0};const{uint:jl,uintOptional:Dl,int:Sl,intOptional:El,fixed:Rl,fixedOptional:Pl,object:zl,objectOptional:Tl,newObject:Cl,string:Bl,stringOptional:Ll,array:Il,arrayOptional:Ul,fileDescriptorOptional:Fl,fileDescriptor:Nl,h:kl,u:ql,i:Vl,f:Yl,o:$l,n:Gl,s:Wl,a:Hl}=l;class Xl extends h{destroy(){super.destroy(),this._marshall(this.id,0,[])}setSize(t,e){this._marshall(this.id,1,[Sl(t),Sl(e)])}setAnchorRect(t,e,r,i){this._marshall(this.id,2,[Sl(t),Sl(e),Sl(r),Sl(i)])}setAnchor(t){this._marshall(this.id,3,[jl(t)])}setGravity(t){this._marshall(this.id,4,[jl(t)])}setConstraintAdjustment(t){this._marshall(this.id,5,[jl(t)])}setOffset(t,e){this._marshall(this.id,6,[Sl(t),Sl(e)])}constructor(t,e,r){super(t,e,r),this.listener=null}}Xl.protocolName="xdg_positioner",Xl.Error={invalidInput:0},Xl.Anchor={none:0,top:1,bottom:2,left:3,right:4,topLeft:5,bottomLeft:6,topRight:7,bottomRight:8},Xl.Gravity={none:0,top:1,bottom:2,left:3,right:4,topLeft:5,bottomLeft:6,topRight:7,bottomRight:8},Xl.ConstraintAdjustment={none:0,slideX:1,slideY:2,flipX:4,flipY:8,resizeX:16,resizeY:32};var Kl=Xl;const{uint:Ql,uintOptional:Zl,int:Jl,intOptional:tc,fixed:ec,fixedOptional:rc,object:ic,objectOptional:nc,newObject:sc,string:ac,stringOptional:oc,array:lc,arrayOptional:cc,fileDescriptorOptional:uc,fileDescriptor:fc,h:hc,u:dc,i:pc,f:bc,o:mc,n:yc,s:_c,a:Oc}=l;class gc extends h{destroy(){super.destroy(),this._marshall(this.id,0,[])}setParent(t){this._marshall(this.id,1,[nc(t)])}setTitle(t){this._marshall(this.id,2,[ac(t)])}setAppId(t){this._marshall(this.id,3,[ac(t)])}showWindowMenu(t,e,r,i){this._marshall(this.id,4,[ic(t),Ql(e),Jl(r),Jl(i)])}move(t,e){this._marshall(this.id,5,[ic(t),Ql(e)])}resize(t,e,r){this._marshall(this.id,6,[ic(t),Ql(e),Ql(r)])}setMaxSize(t,e){this._marshall(this.id,7,[Jl(t),Jl(e)])}setMinSize(t,e){this._marshall(this.id,8,[Jl(t),Jl(e)])}setMaximized(){this._marshall(this.id,9,[])}unsetMaximized(){this._marshall(this.id,10,[])}setFullscreen(t){this._marshall(this.id,11,[nc(t)])}unsetFullscreen(){this._marshall(this.id,12,[])}setMinimized(){this._marshall(this.id,13,[])}constructor(t,e,r){super(t,e,r),this.listener=null}async 0(t){await this.listener.configure(pc(t),pc(t),Oc(t,!1))}async 1(t){await this.listener.close()}}gc.protocolName="xdg_toplevel",gc.ResizeEdge={none:0,top:1,bottom:2,left:4,topLeft:5,bottomLeft:6,right:8,topRight:9,bottomRight:10},gc.State={maximized:1,fullscreen:2,resizing:3,activated:4};var wc=gc;const{uint:Mc,uintOptional:vc,int:xc,intOptional:Ac,fixed:jc,fixedOptional:Dc,object:Sc,objectOptional:Ec,newObject:Rc,string:Pc,stringOptional:zc,array:Tc,arrayOptional:Cc,fileDescriptorOptional:Bc,fileDescriptor:Lc,h:Ic,u:Uc,i:Fc,f:Nc,o:kc,n:qc,s:Vc,a:Yc}=l;class $c extends h{destroy(){super.destroy(),this._marshall(this.id,0,[])}grab(t,e){this._marshall(this.id,1,[Sc(t),Mc(e)])}constructor(t,e,r){super(t,e,r),this.listener=null}async 0(t){await this.listener.configure(Fc(t),Fc(t),Fc(t),Fc(t))}async 1(t){await this.listener.popupDone()}}$c.protocolName="xdg_popup",$c.Error={invalidGrab:0};var Gc=$c;const{uint:Wc,uintOptional:Hc,int:Xc,intOptional:Kc,fixed:Qc,fixedOptional:Zc,object:Jc,objectOptional:tu,newObject:eu,string:ru,stringOptional:iu,array:nu,arrayOptional:su,fileDescriptorOptional:au,fileDescriptor:ou,h:lu,u:cu,i:uu,f:fu,o:hu,n:du,s:pu,a:bu}=l;class mu extends h{destroy(){super.destroy(),this._marshall(this.id,0,[])}getToplevel(){return this._marshallConstructor(this.id,1,wc,[eu()])}getPopup(t,e){return this._marshallConstructor(this.id,2,Gc,[eu(),tu(t),Jc(e)])}setWindowGeometry(t,e,r,i){this._marshall(this.id,3,[Xc(t),Xc(e),Xc(r),Xc(i)])}ackConfigure(t){this._marshall(this.id,4,[Wc(t)])}constructor(t,e,r){super(t,e,r),this.listener=null}async 0(t){await this.listener.configure(cu(t))}}mu.protocolName="xdg_surface",mu.Error={notConstructed:1,alreadyConstructed:2,unconfiguredBuffer:3};var yu=mu;const{uint:_u,uintOptional:Ou,int:gu,intOptional:wu,fixed:Mu,fixedOptional:vu,object:xu,objectOptional:Au,newObject:ju,string:Du,stringOptional:Su,array:Eu,arrayOptional:Ru,fileDescriptorOptional:Pu,fileDescriptor:zu,h:Tu,u:Cu,i:Bu,f:Lu,o:Iu,n:Uu,s:Fu,a:Nu}=l;class ku extends h{destroy(){super.destroy(),this._marshall(this.id,0,[])}createPositioner(){return this._marshallConstructor(this.id,1,Kl,[ju()])}getXdgSurface(t){return this._marshallConstructor(this.id,2,yu,[ju(),xu(t)])}pong(t){this._marshall(this.id,3,[_u(t)])}constructor(t,e,r){super(t,e,r),this.listener=null}async 0(t){await this.listener.ping(Cu(t))}}ku.protocolName="xdg_wm_base",ku.Error={role:0,defunctSurfaces:1,notTheTopmostPopup:2,invalidPopupParent:3,invalidSurfaceState:4,invalidPositioner:5};const{uint:qu,uintOptional:Vu,int:Yu,intOptional:$u,fixed:Gu,fixedOptional:Wu,object:Hu,objectOptional:Xu,newObject:Ku,string:Qu,stringOptional:Zu,array:Ju,arrayOptional:tf,fileDescriptorOptional:ef,fileDescriptor:rf,h:nf,u:sf,i:af,f:of,o:lf,n:cf,s:uf,a:ff}=l;class hf extends h{attach(t){this._marshall(this.id,0,[rf(t)])}constructor(t,e,r){super(t,e,r),this.listener=null}async 0(t){await this.listener.detach(nf(t))}}hf.protocolName="gr_web_shm_buffer";var df=hf;const{uint:pf,uintOptional:bf,int:mf,intOptional:yf,fixed:_f,fixedOptional:Of,object:gf,objectOptional:wf,newObject:Mf,string:vf,stringOptional:xf,array:Af,arrayOptional:jf,fileDescriptorOptional:Df,fileDescriptor:Sf,h:Ef,u:Rf,i:Pf,f:zf,o:Tf,n:Cf,s:Bf,a:Lf}=l;class If extends h{createWebArrayBuffer(){return this._marshallConstructor(this.id,0,df,[Mf()])}createBuffer(t,e,r){return this._marshallConstructor(this.id,1,Ar,[Mf(),gf(t),mf(e),mf(r)])}constructor(t,e,r){super(t,e,r),this.listener=null}}If.protocolName="gr_web_shm";const{uint:Uf,uintOptional:Ff,int:Nf,intOptional:kf,fixed:qf,fixedOptional:Vf,object:Yf,objectOptional:$f,newObject:Gf,string:Wf,stringOptional:Hf,array:Xf,arrayOptional:Kf,fileDescriptorOptional:Qf,fileDescriptor:Zf,h:Jf,u:th,i:eh,f:rh,o:ih,n:nh,s:sh,a:ah}=l;class oh extends h{transfer(t){this._marshall(this.id,0,[Zf(t)])}constructor(t,e,r){super(t,e,r),this.listener=null}}oh.protocolName="gr_web_gl_buffer";var lh=oh;const{uint:ch,uintOptional:uh,int:fh,intOptional:hh,fixed:dh,fixedOptional:ph,object:bh,objectOptional:mh,newObject:yh,string:_h,stringOptional:Oh,array:gh,arrayOptional:wh,fileDescriptorOptional:Mh,fileDescriptor:vh,h:xh,u:Ah,i:jh,f:Dh,o:Sh,n:Eh,s:Rh,a:Ph}=l;class zh extends h{createWebGlBuffer(){return this._marshallConstructor(this.id,0,lh,[yh()])}createBuffer(t){return this._marshallConstructor(this.id,1,Ar,[yh(),bh(t)])}constructor(t,e,r){super(t,e,r),this.listener=null}}zh.protocolName="gr_web_gl";var Th=zh;const Ch=f.create(([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,t=>(t^self.crypto.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16))),Bh=new l,Lh=new class{constructor(t){this._recycledIds=[],this._connection=t,this._displayProxy=new Tt(this,this._connection,1),this._lastId=1,this._destroyResolve=null,this._destroyReject=null,this._destroyPromise=new Promise((t,e)=>{this._destroyResolve=t,this._destroyReject=e}),this._displayProxy.listener={deleteId:t=>{this._recycledIds.push(t)},error:(t,e,r)=>{this._protocolError(t,e,r)}},this.errorHandler=null}close(){this._connection.closed||(this._connection.close(),this._destroyResolve())}_protocolError(t,e,r){this._connection.closed||(this._connection.close(),this._destroyReject(new Error(`Protocol error. type: ${t.constructor.name}, id: ${t.id}, code: ${e}, message: ${r}`)))}onClose(){return this._destroyPromise}getRegistry(){return this._displayProxy.getRegistry()}generateNextId(){return this._recycledIds.length?this._recycledIds.shift():++this._lastId}sync(){return new Promise(t=>{const e=this._displayProxy.sync();e.listener={done:r=>{t(r),e.destroy()}}})}flush(){this._connection.flush()}}(Bh);!function(t,e,r){const i=[];onmessage=(i=>{if(e.closed)return;const n=i.data;if(n.protocolMessage instanceof ArrayBuffer){const i=new Uint32Array(n.protocolMessage),s=n.meta.map(t=>t instanceof ArrayBuffer?r.fromArrayBuffer(t):t instanceof ImageBitmap?r.fromImageBitmap(t):(console.warn(`COMPOSITOR BUG? Unsupported transferable received from compositor: ${t}. WebFD will be null.`),null));try{e.message({buffer:i,fds:s})}catch(e){t.errorHandler&&"function"==typeof t.errorHandler?t.errorHandler(e):(console.error("\tname: "+e.name+" message: "+e.message+" text: "+e.text),console.error("error object stack: "),console.error(e.stack))}}else console.error("[web-worker-client] server send an illegal message."),e.close()}),e.onFlush=(async t=>{if(i.push(t),!(i.length>1))for(;i.length;){const t=i[0],e=t.reduce((t,e)=>t+e.buffer.byteLength,0),r=new Uint32Array(new ArrayBuffer(e));let n=0;const s=[];for(const e of t){for(const t of e.fds){const e=await t.getTransferable();s.push(e)}const t=new Uint32Array(e.buffer);r.set(t,n),n+=t.length}postMessage({protocolMessage:r.buffer,meta:s},[r.buffer].concat(s)),i.shift()}})}(Lh,Bh,Ch);var Ih=1e-6,Uh="undefined"!=typeof Float32Array?Float32Array:Array,Fh=Math.random;Math.PI;function Nh(){var t=new Uh(16);return Uh!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function kh(t){var e=new Uh(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function qh(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Vh(t,e,r,i,n,s,a,o,l,c,u,f,h,d,p,b){var m=new Uh(16);return m[0]=t,m[1]=e,m[2]=r,m[3]=i,m[4]=n,m[5]=s,m[6]=a,m[7]=o,m[8]=l,m[9]=c,m[10]=u,m[11]=f,m[12]=h,m[13]=d,m[14]=p,m[15]=b,m}function Yh(t,e,r,i,n,s,a,o,l,c,u,f,h,d,p,b,m){return t[0]=e,t[1]=r,t[2]=i,t[3]=n,t[4]=s,t[5]=a,t[6]=o,t[7]=l,t[8]=c,t[9]=u,t[10]=f,t[11]=h,t[12]=d,t[13]=p,t[14]=b,t[15]=m,t}function $h(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Gh(t,e){if(t===e){var r=e[1],i=e[2],n=e[3],s=e[6],a=e[7],o=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=r,t[6]=e[9],t[7]=e[13],t[8]=i,t[9]=s,t[11]=e[14],t[12]=n,t[13]=a,t[14]=o}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function Wh(t,e){var r=e[0],i=e[1],n=e[2],s=e[3],a=e[4],o=e[5],l=e[6],c=e[7],u=e[8],f=e[9],h=e[10],d=e[11],p=e[12],b=e[13],m=e[14],y=e[15],_=r*o-i*a,O=r*l-n*a,g=r*c-s*a,w=i*l-n*o,M=i*c-s*o,v=n*c-s*l,x=u*b-f*p,A=u*m-h*p,j=u*y-d*p,D=f*m-h*b,S=f*y-d*b,E=h*y-d*m,R=_*E-O*S+g*D+w*j-M*A+v*x;return R?(R=1/R,t[0]=(o*E-l*S+c*D)*R,t[1]=(n*S-i*E-s*D)*R,t[2]=(b*v-m*M+y*w)*R,t[3]=(h*M-f*v-d*w)*R,t[4]=(l*j-a*E-c*A)*R,t[5]=(r*E-n*j+s*A)*R,t[6]=(m*g-p*v-y*O)*R,t[7]=(u*v-h*g+d*O)*R,t[8]=(a*S-o*j+c*x)*R,t[9]=(i*j-r*S-s*x)*R,t[10]=(p*M-b*g+y*_)*R,t[11]=(f*g-u*M-d*_)*R,t[12]=(o*A-a*D-l*x)*R,t[13]=(r*D-i*A+n*x)*R,t[14]=(b*O-p*w-m*_)*R,t[15]=(u*w-f*O+h*_)*R,t):null}function Hh(t,e){var r=e[0],i=e[1],n=e[2],s=e[3],a=e[4],o=e[5],l=e[6],c=e[7],u=e[8],f=e[9],h=e[10],d=e[11],p=e[12],b=e[13],m=e[14],y=e[15];return t[0]=o*(h*y-d*m)-f*(l*y-c*m)+b*(l*d-c*h),t[1]=-(i*(h*y-d*m)-f*(n*y-s*m)+b*(n*d-s*h)),t[2]=i*(l*y-c*m)-o*(n*y-s*m)+b*(n*c-s*l),t[3]=-(i*(l*d-c*h)-o*(n*d-s*h)+f*(n*c-s*l)),t[4]=-(a*(h*y-d*m)-u*(l*y-c*m)+p*(l*d-c*h)),t[5]=r*(h*y-d*m)-u*(n*y-s*m)+p*(n*d-s*h),t[6]=-(r*(l*y-c*m)-a*(n*y-s*m)+p*(n*c-s*l)),t[7]=r*(l*d-c*h)-a*(n*d-s*h)+u*(n*c-s*l),t[8]=a*(f*y-d*b)-u*(o*y-c*b)+p*(o*d-c*f),t[9]=-(r*(f*y-d*b)-u*(i*y-s*b)+p*(i*d-s*f)),t[10]=r*(o*y-c*b)-a*(i*y-s*b)+p*(i*c-s*o),t[11]=-(r*(o*d-c*f)-a*(i*d-s*f)+u*(i*c-s*o)),t[12]=-(a*(f*m-h*b)-u*(o*m-l*b)+p*(o*h-l*f)),t[13]=r*(f*m-h*b)-u*(i*m-n*b)+p*(i*h-n*f),t[14]=-(r*(o*m-l*b)-a*(i*m-n*b)+p*(i*l-n*o)),t[15]=r*(o*h-l*f)-a*(i*h-n*f)+u*(i*l-n*o),t}function Xh(t){var e=t[0],r=t[1],i=t[2],n=t[3],s=t[4],a=t[5],o=t[6],l=t[7],c=t[8],u=t[9],f=t[10],h=t[11],d=t[12],p=t[13],b=t[14],m=t[15];return(e*a-r*s)*(f*m-h*b)-(e*o-i*s)*(u*m-h*p)+(e*l-n*s)*(u*b-f*p)+(r*o-i*a)*(c*m-h*d)-(r*l-n*a)*(c*b-f*d)+(i*l-n*o)*(c*p-u*d)}function Kh(t,e,r){var i=e[0],n=e[1],s=e[2],a=e[3],o=e[4],l=e[5],c=e[6],u=e[7],f=e[8],h=e[9],d=e[10],p=e[11],b=e[12],m=e[13],y=e[14],_=e[15],O=r[0],g=r[1],w=r[2],M=r[3];return t[0]=O*i+g*o+w*f+M*b,t[1]=O*n+g*l+w*h+M*m,t[2]=O*s+g*c+w*d+M*y,t[3]=O*a+g*u+w*p+M*_,O=r[4],g=r[5],w=r[6],M=r[7],t[4]=O*i+g*o+w*f+M*b,t[5]=O*n+g*l+w*h+M*m,t[6]=O*s+g*c+w*d+M*y,t[7]=O*a+g*u+w*p+M*_,O=r[8],g=r[9],w=r[10],M=r[11],t[8]=O*i+g*o+w*f+M*b,t[9]=O*n+g*l+w*h+M*m,t[10]=O*s+g*c+w*d+M*y,t[11]=O*a+g*u+w*p+M*_,O=r[12],g=r[13],w=r[14],M=r[15],t[12]=O*i+g*o+w*f+M*b,t[13]=O*n+g*l+w*h+M*m,t[14]=O*s+g*c+w*d+M*y,t[15]=O*a+g*u+w*p+M*_,t}function Qh(t,e,r){var i,n,s,a,o,l,c,u,f,h,d,p,b=r[0],m=r[1],y=r[2];return e===t?(t[12]=e[0]*b+e[4]*m+e[8]*y+e[12],t[13]=e[1]*b+e[5]*m+e[9]*y+e[13],t[14]=e[2]*b+e[6]*m+e[10]*y+e[14],t[15]=e[3]*b+e[7]*m+e[11]*y+e[15]):(i=e[0],n=e[1],s=e[2],a=e[3],o=e[4],l=e[5],c=e[6],u=e[7],f=e[8],h=e[9],d=e[10],p=e[11],t[0]=i,t[1]=n,t[2]=s,t[3]=a,t[4]=o,t[5]=l,t[6]=c,t[7]=u,t[8]=f,t[9]=h,t[10]=d,t[11]=p,t[12]=i*b+o*m+f*y+e[12],t[13]=n*b+l*m+h*y+e[13],t[14]=s*b+c*m+d*y+e[14],t[15]=a*b+u*m+p*y+e[15]),t}function Zh(t,e,r){var i=r[0],n=r[1],s=r[2];return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*s,t[9]=e[9]*s,t[10]=e[10]*s,t[11]=e[11]*s,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Jh(t,e,r,i){var n,s,a,o,l,c,u,f,h,d,p,b,m,y,_,O,g,w,M,v,x,A,j,D,S=i[0],E=i[1],R=i[2],P=Math.sqrt(S*S+E*E+R*R);return P<Ih?null:(S*=P=1/P,E*=P,R*=P,n=Math.sin(r),a=1-(s=Math.cos(r)),o=e[0],l=e[1],c=e[2],u=e[3],f=e[4],h=e[5],d=e[6],p=e[7],b=e[8],m=e[9],y=e[10],_=e[11],O=S*S*a+s,g=E*S*a+R*n,w=R*S*a-E*n,M=S*E*a-R*n,v=E*E*a+s,x=R*E*a+S*n,A=S*R*a+E*n,j=E*R*a-S*n,D=R*R*a+s,t[0]=o*O+f*g+b*w,t[1]=l*O+h*g+m*w,t[2]=c*O+d*g+y*w,t[3]=u*O+p*g+_*w,t[4]=o*M+f*v+b*x,t[5]=l*M+h*v+m*x,t[6]=c*M+d*v+y*x,t[7]=u*M+p*v+_*x,t[8]=o*A+f*j+b*D,t[9]=l*A+h*j+m*D,t[10]=c*A+d*j+y*D,t[11]=u*A+p*j+_*D,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function td(t,e,r){var i=Math.sin(r),n=Math.cos(r),s=e[4],a=e[5],o=e[6],l=e[7],c=e[8],u=e[9],f=e[10],h=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=s*n+c*i,t[5]=a*n+u*i,t[6]=o*n+f*i,t[7]=l*n+h*i,t[8]=c*n-s*i,t[9]=u*n-a*i,t[10]=f*n-o*i,t[11]=h*n-l*i,t}function ed(t,e,r){var i=Math.sin(r),n=Math.cos(r),s=e[0],a=e[1],o=e[2],l=e[3],c=e[8],u=e[9],f=e[10],h=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=s*n-c*i,t[1]=a*n-u*i,t[2]=o*n-f*i,t[3]=l*n-h*i,t[8]=s*i+c*n,t[9]=a*i+u*n,t[10]=o*i+f*n,t[11]=l*i+h*n,t}function rd(t,e,r){var i=Math.sin(r),n=Math.cos(r),s=e[0],a=e[1],o=e[2],l=e[3],c=e[4],u=e[5],f=e[6],h=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=s*n+c*i,t[1]=a*n+u*i,t[2]=o*n+f*i,t[3]=l*n+h*i,t[4]=c*n-s*i,t[5]=u*n-a*i,t[6]=f*n-o*i,t[7]=h*n-l*i,t}function id(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function nd(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function sd(t,e,r){var i,n,s,a=r[0],o=r[1],l=r[2],c=Math.sqrt(a*a+o*o+l*l);return c<Ih?null:(a*=c=1/c,o*=c,l*=c,i=Math.sin(e),s=1-(n=Math.cos(e)),t[0]=a*a*s+n,t[1]=o*a*s+l*i,t[2]=l*a*s-o*i,t[3]=0,t[4]=a*o*s-l*i,t[5]=o*o*s+n,t[6]=l*o*s+a*i,t[7]=0,t[8]=a*l*s+o*i,t[9]=o*l*s-a*i,t[10]=l*l*s+n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function ad(t,e){var r=Math.sin(e),i=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i,t[6]=r,t[7]=0,t[8]=0,t[9]=-r,t[10]=i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function od(t,e){var r=Math.sin(e),i=Math.cos(e);return t[0]=i,t[1]=0,t[2]=-r,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=r,t[9]=0,t[10]=i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function ld(t,e){var r=Math.sin(e),i=Math.cos(e);return t[0]=i,t[1]=r,t[2]=0,t[3]=0,t[4]=-r,t[5]=i,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function cd(t,e,r){var i=e[0],n=e[1],s=e[2],a=e[3],o=i+i,l=n+n,c=s+s,u=i*o,f=i*l,h=i*c,d=n*l,p=n*c,b=s*c,m=a*o,y=a*l,_=a*c;return t[0]=1-(d+b),t[1]=f+_,t[2]=h-y,t[3]=0,t[4]=f-_,t[5]=1-(u+b),t[6]=p+m,t[7]=0,t[8]=h+y,t[9]=p-m,t[10]=1-(u+d),t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}function ud(t,e){var r=new Uh(3),i=-e[0],n=-e[1],s=-e[2],a=e[3],o=e[4],l=e[5],c=e[6],u=e[7],f=i*i+n*n+s*s+a*a;return f>0?(r[0]=2*(o*a+u*i+l*s-c*n)/f,r[1]=2*(l*a+u*n+c*i-o*s)/f,r[2]=2*(c*a+u*s+o*n-l*i)/f):(r[0]=2*(o*a+u*i+l*s-c*n),r[1]=2*(l*a+u*n+c*i-o*s),r[2]=2*(c*a+u*s+o*n-l*i)),cd(t,e,r),t}function fd(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function hd(t,e){var r=e[0],i=e[1],n=e[2],s=e[4],a=e[5],o=e[6],l=e[8],c=e[9],u=e[10];return t[0]=Math.sqrt(r*r+i*i+n*n),t[1]=Math.sqrt(s*s+a*a+o*o),t[2]=Math.sqrt(l*l+c*c+u*u),t}function dd(t,e){var r=e[0]+e[5]+e[10],i=0;return r>0?(i=2*Math.sqrt(r+1),t[3]=.25*i,t[0]=(e[6]-e[9])/i,t[1]=(e[8]-e[2])/i,t[2]=(e[1]-e[4])/i):e[0]>e[5]&&e[0]>e[10]?(i=2*Math.sqrt(1+e[0]-e[5]-e[10]),t[3]=(e[6]-e[9])/i,t[0]=.25*i,t[1]=(e[1]+e[4])/i,t[2]=(e[8]+e[2])/i):e[5]>e[10]?(i=2*Math.sqrt(1+e[5]-e[0]-e[10]),t[3]=(e[8]-e[2])/i,t[0]=(e[1]+e[4])/i,t[1]=.25*i,t[2]=(e[6]+e[9])/i):(i=2*Math.sqrt(1+e[10]-e[0]-e[5]),t[3]=(e[1]-e[4])/i,t[0]=(e[8]+e[2])/i,t[1]=(e[6]+e[9])/i,t[2]=.25*i),t}function pd(t,e,r,i){var n=e[0],s=e[1],a=e[2],o=e[3],l=n+n,c=s+s,u=a+a,f=n*l,h=n*c,d=n*u,p=s*c,b=s*u,m=a*u,y=o*l,_=o*c,O=o*u,g=i[0],w=i[1],M=i[2];return t[0]=(1-(p+m))*g,t[1]=(h+O)*g,t[2]=(d-_)*g,t[3]=0,t[4]=(h-O)*w,t[5]=(1-(f+m))*w,t[6]=(b+y)*w,t[7]=0,t[8]=(d+_)*M,t[9]=(b-y)*M,t[10]=(1-(f+p))*M,t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}function bd(t,e,r,i,n){var s=e[0],a=e[1],o=e[2],l=e[3],c=s+s,u=a+a,f=o+o,h=s*c,d=s*u,p=s*f,b=a*u,m=a*f,y=o*f,_=l*c,O=l*u,g=l*f,w=i[0],M=i[1],v=i[2],x=n[0],A=n[1],j=n[2],D=(1-(b+y))*w,S=(d+g)*w,E=(p-O)*w,R=(d-g)*M,P=(1-(h+y))*M,z=(m+_)*M,T=(p+O)*v,C=(m-_)*v,B=(1-(h+b))*v;return t[0]=D,t[1]=S,t[2]=E,t[3]=0,t[4]=R,t[5]=P,t[6]=z,t[7]=0,t[8]=T,t[9]=C,t[10]=B,t[11]=0,t[12]=r[0]+x-(D*x+R*A+T*j),t[13]=r[1]+A-(S*x+P*A+C*j),t[14]=r[2]+j-(E*x+z*A+B*j),t[15]=1,t}function md(t,e){var r=e[0],i=e[1],n=e[2],s=e[3],a=r+r,o=i+i,l=n+n,c=r*a,u=i*a,f=i*o,h=n*a,d=n*o,p=n*l,b=s*a,m=s*o,y=s*l;return t[0]=1-f-p,t[1]=u+y,t[2]=h-m,t[3]=0,t[4]=u-y,t[5]=1-c-p,t[6]=d+b,t[7]=0,t[8]=h+m,t[9]=d-b,t[10]=1-c-f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function yd(t,e,r,i,n,s,a){var o=1/(r-e),l=1/(n-i),c=1/(s-a);return t[0]=2*s*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*s*l,t[6]=0,t[7]=0,t[8]=(r+e)*o,t[9]=(n+i)*l,t[10]=(a+s)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*s*2*c,t[15]=0,t}function _d(t,e,r,i,n){var s,a=1/Math.tan(e/2);return t[0]=a/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=n&&n!==1/0?(s=1/(i-n),t[10]=(n+i)*s,t[14]=2*n*i*s):(t[10]=-1,t[14]=-2*i),t}function Od(t,e,r,i){var n=Math.tan(e.upDegrees*Math.PI/180),s=Math.tan(e.downDegrees*Math.PI/180),a=Math.tan(e.leftDegrees*Math.PI/180),o=Math.tan(e.rightDegrees*Math.PI/180),l=2/(a+o),c=2/(n+s);return t[0]=l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-(a-o)*l*.5,t[9]=(n-s)*c*.5,t[10]=i/(r-i),t[11]=-1,t[12]=0,t[13]=0,t[14]=i*r/(r-i),t[15]=0,t}function gd(t,e,r,i,n,s,a){var o=1/(e-r),l=1/(i-n),c=1/(s-a);return t[0]=-2*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+r)*o,t[13]=(n+i)*l,t[14]=(a+s)*c,t[15]=1,t}function wd(t,e,r,i){var n,s,a,o,l,c,u,f,h,d,p=e[0],b=e[1],m=e[2],y=i[0],_=i[1],O=i[2],g=r[0],w=r[1],M=r[2];return Math.abs(p-g)<Ih&&Math.abs(b-w)<Ih&&Math.abs(m-M)<Ih?$h(t):(u=p-g,f=b-w,h=m-M,n=_*(h*=d=1/Math.sqrt(u*u+f*f+h*h))-O*(f*=d),s=O*(u*=d)-y*h,a=y*f-_*u,(d=Math.sqrt(n*n+s*s+a*a))?(n*=d=1/d,s*=d,a*=d):(n=0,s=0,a=0),o=f*a-h*s,l=h*n-u*a,c=u*s-f*n,(d=Math.sqrt(o*o+l*l+c*c))?(o*=d=1/d,l*=d,c*=d):(o=0,l=0,c=0),t[0]=n,t[1]=o,t[2]=u,t[3]=0,t[4]=s,t[5]=l,t[6]=f,t[7]=0,t[8]=a,t[9]=c,t[10]=h,t[11]=0,t[12]=-(n*p+s*b+a*m),t[13]=-(o*p+l*b+c*m),t[14]=-(u*p+f*b+h*m),t[15]=1,t)}function Md(t,e,r,i){var n=e[0],s=e[1],a=e[2],o=i[0],l=i[1],c=i[2],u=n-r[0],f=s-r[1],h=a-r[2],d=u*u+f*f+h*h;d>0&&(u*=d=1/Math.sqrt(d),f*=d,h*=d);var p=l*h-c*f,b=c*u-o*h,m=o*f-l*u;return(d=p*p+b*b+m*m)>0&&(p*=d=1/Math.sqrt(d),b*=d,m*=d),t[0]=p,t[1]=b,t[2]=m,t[3]=0,t[4]=f*m-h*b,t[5]=h*p-u*m,t[6]=u*b-f*p,t[7]=0,t[8]=u,t[9]=f,t[10]=h,t[11]=0,t[12]=n,t[13]=s,t[14]=a,t[15]=1,t}function vd(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function xd(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))}function Ad(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t[8]=e[8]+r[8],t[9]=e[9]+r[9],t[10]=e[10]+r[10],t[11]=e[11]+r[11],t[12]=e[12]+r[12],t[13]=e[13]+r[13],t[14]=e[14]+r[14],t[15]=e[15]+r[15],t}function jd(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t[6]=e[6]-r[6],t[7]=e[7]-r[7],t[8]=e[8]-r[8],t[9]=e[9]-r[9],t[10]=e[10]-r[10],t[11]=e[11]-r[11],t[12]=e[12]-r[12],t[13]=e[13]-r[13],t[14]=e[14]-r[14],t[15]=e[15]-r[15],t}function Dd(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*r,t[9]=e[9]*r,t[10]=e[10]*r,t[11]=e[11]*r,t[12]=e[12]*r,t[13]=e[13]*r,t[14]=e[14]*r,t[15]=e[15]*r,t}function Sd(t,e,r,i){return t[0]=e[0]+r[0]*i,t[1]=e[1]+r[1]*i,t[2]=e[2]+r[2]*i,t[3]=e[3]+r[3]*i,t[4]=e[4]+r[4]*i,t[5]=e[5]+r[5]*i,t[6]=e[6]+r[6]*i,t[7]=e[7]+r[7]*i,t[8]=e[8]+r[8]*i,t[9]=e[9]+r[9]*i,t[10]=e[10]+r[10]*i,t[11]=e[11]+r[11]*i,t[12]=e[12]+r[12]*i,t[13]=e[13]+r[13]*i,t[14]=e[14]+r[14]*i,t[15]=e[15]+r[15]*i,t}function Ed(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function Rd(t,e){var r=t[0],i=t[1],n=t[2],s=t[3],a=t[4],o=t[5],l=t[6],c=t[7],u=t[8],f=t[9],h=t[10],d=t[11],p=t[12],b=t[13],m=t[14],y=t[15],_=e[0],O=e[1],g=e[2],w=e[3],M=e[4],v=e[5],x=e[6],A=e[7],j=e[8],D=e[9],S=e[10],E=e[11],R=e[12],P=e[13],z=e[14],T=e[15];return Math.abs(r-_)<=Ih*Math.max(1,Math.abs(r),Math.abs(_))&&Math.abs(i-O)<=Ih*Math.max(1,Math.abs(i),Math.abs(O))&&Math.abs(n-g)<=Ih*Math.max(1,Math.abs(n),Math.abs(g))&&Math.abs(s-w)<=Ih*Math.max(1,Math.abs(s),Math.abs(w))&&Math.abs(a-M)<=Ih*Math.max(1,Math.abs(a),Math.abs(M))&&Math.abs(o-v)<=Ih*Math.max(1,Math.abs(o),Math.abs(v))&&Math.abs(l-x)<=Ih*Math.max(1,Math.abs(l),Math.abs(x))&&Math.abs(c-A)<=Ih*Math.max(1,Math.abs(c),Math.abs(A))&&Math.abs(u-j)<=Ih*Math.max(1,Math.abs(u),Math.abs(j))&&Math.abs(f-D)<=Ih*Math.max(1,Math.abs(f),Math.abs(D))&&Math.abs(h-S)<=Ih*Math.max(1,Math.abs(h),Math.abs(S))&&Math.abs(d-E)<=Ih*Math.max(1,Math.abs(d),Math.abs(E))&&Math.abs(p-R)<=Ih*Math.max(1,Math.abs(p),Math.abs(R))&&Math.abs(b-P)<=Ih*Math.max(1,Math.abs(b),Math.abs(P))&&Math.abs(m-z)<=Ih*Math.max(1,Math.abs(m),Math.abs(z))&&Math.abs(y-T)<=Ih*Math.max(1,Math.abs(y),Math.abs(T))}var Pd=Kh,zd=jd;function Td(){var t=new Uh(3);return Uh!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function Cd(t){var e=new Uh(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function Bd(t){var e=t[0],r=t[1],i=t[2];return Math.sqrt(e*e+r*r+i*i)}function Ld(t,e,r){var i=new Uh(3);return i[0]=t,i[1]=e,i[2]=r,i}function Id(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function Ud(t,e,r,i){return t[0]=e,t[1]=r,t[2]=i,t}function Fd(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t}function Nd(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t}function kd(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t}function qd(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t}function Vd(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}function Yd(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}function $d(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t}function Gd(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t}function Wd(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}function Hd(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t}function Xd(t,e,r,i){return t[0]=e[0]+r[0]*i,t[1]=e[1]+r[1]*i,t[2]=e[2]+r[2]*i,t}function Kd(t,e){var r=e[0]-t[0],i=e[1]-t[1],n=e[2]-t[2];return Math.sqrt(r*r+i*i+n*n)}function Qd(t,e){var r=e[0]-t[0],i=e[1]-t[1],n=e[2]-t[2];return r*r+i*i+n*n}function Zd(t){var e=t[0],r=t[1],i=t[2];return e*e+r*r+i*i}function Jd(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function tp(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function ep(t,e){var r=e[0],i=e[1],n=e[2],s=r*r+i*i+n*n;return s>0&&(s=1/Math.sqrt(s)),t[0]=e[0]*s,t[1]=e[1]*s,t[2]=e[2]*s,t}function rp(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function ip(t,e,r){var i=e[0],n=e[1],s=e[2],a=r[0],o=r[1],l=r[2];return t[0]=n*l-s*o,t[1]=s*a-i*l,t[2]=i*o-n*a,t}function np(t,e,r,i){var n=e[0],s=e[1],a=e[2];return t[0]=n+i*(r[0]-n),t[1]=s+i*(r[1]-s),t[2]=a+i*(r[2]-a),t}function sp(t,e,r,i,n,s){var a=s*s,o=a*(2*s-3)+1,l=a*(s-2)+s,c=a*(s-1),u=a*(3-2*s);return t[0]=e[0]*o+r[0]*l+i[0]*c+n[0]*u,t[1]=e[1]*o+r[1]*l+i[1]*c+n[1]*u,t[2]=e[2]*o+r[2]*l+i[2]*c+n[2]*u,t}function ap(t,e,r,i,n,s){var a=1-s,o=a*a,l=s*s,c=o*a,u=3*s*o,f=3*l*a,h=l*s;return t[0]=e[0]*c+r[0]*u+i[0]*f+n[0]*h,t[1]=e[1]*c+r[1]*u+i[1]*f+n[1]*h,t[2]=e[2]*c+r[2]*u+i[2]*f+n[2]*h,t}function op(t,e){e=e||1;var r=2*Fh()*Math.PI,i=2*Fh()-1,n=Math.sqrt(1-i*i)*e;return t[0]=Math.cos(r)*n,t[1]=Math.sin(r)*n,t[2]=i*e,t}function lp(t,e,r){var i=e[0],n=e[1],s=e[2],a=r[3]*i+r[7]*n+r[11]*s+r[15];return a=a||1,t[0]=(r[0]*i+r[4]*n+r[8]*s+r[12])/a,t[1]=(r[1]*i+r[5]*n+r[9]*s+r[13])/a,t[2]=(r[2]*i+r[6]*n+r[10]*s+r[14])/a,t}function cp(t,e,r){var i=e[0],n=e[1],s=e[2];return t[0]=i*r[0]+n*r[3]+s*r[6],t[1]=i*r[1]+n*r[4]+s*r[7],t[2]=i*r[2]+n*r[5]+s*r[8],t}function up(t,e,r){var i=r[0],n=r[1],s=r[2],a=r[3],o=e[0],l=e[1],c=e[2],u=n*c-s*l,f=s*o-i*c,h=i*l-n*o,d=n*h-s*f,p=s*u-i*h,b=i*f-n*u,m=2*a;return u*=m,f*=m,h*=m,d*=2,p*=2,b*=2,t[0]=o+u+d,t[1]=l+f+p,t[2]=c+h+b,t}function fp(t,e,r,i){var n=[],s=[];return n[0]=e[0]-r[0],n[1]=e[1]-r[1],n[2]=e[2]-r[2],s[0]=n[0],s[1]=n[1]*Math.cos(i)-n[2]*Math.sin(i),s[2]=n[1]*Math.sin(i)+n[2]*Math.cos(i),t[0]=s[0]+r[0],t[1]=s[1]+r[1],t[2]=s[2]+r[2],t}function hp(t,e,r,i){var n=[],s=[];return n[0]=e[0]-r[0],n[1]=e[1]-r[1],n[2]=e[2]-r[2],s[0]=n[2]*Math.sin(i)+n[0]*Math.cos(i),s[1]=n[1],s[2]=n[2]*Math.cos(i)-n[0]*Math.sin(i),t[0]=s[0]+r[0],t[1]=s[1]+r[1],t[2]=s[2]+r[2],t}function dp(t,e,r,i){var n=[],s=[];return n[0]=e[0]-r[0],n[1]=e[1]-r[1],n[2]=e[2]-r[2],s[0]=n[0]*Math.cos(i)-n[1]*Math.sin(i),s[1]=n[0]*Math.sin(i)+n[1]*Math.cos(i),s[2]=n[2],t[0]=s[0]+r[0],t[1]=s[1]+r[1],t[2]=s[2]+r[2],t}function pp(t,e){var r=Ld(t[0],t[1],t[2]),i=Ld(e[0],e[1],e[2]);ep(r,r),ep(i,i);var n=rp(r,i);return n>1?0:n<-1?Math.PI:Math.acos(n)}function bp(t){return t[0]=0,t[1]=0,t[2]=0,t}function mp(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function yp(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function _p(t,e){var r=t[0],i=t[1],n=t[2],s=e[0],a=e[1],o=e[2];return Math.abs(r-s)<=Ih*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(i-a)<=Ih*Math.max(1,Math.abs(i),Math.abs(a))&&Math.abs(n-o)<=Ih*Math.max(1,Math.abs(n),Math.abs(o))}var Op,gp=Nd,wp=kd,Mp=qd,vp=Kd,xp=Qd,Ap=Bd,jp=Zd,Dp=(Op=Td(),function(t,e,r,i,n,s){var a,o;for(e||(e=3),r||(r=0),o=i?Math.min(i*e+r,t.length):t.length,a=r;a<o;a+=e)Op[0]=t[a],Op[1]=t[a+1],Op[2]=t[a+2],n(Op,Op,s),t[a]=Op[0],t[a+1]=Op[1],t[a+2]=Op[2];return t});function Sp(t,e,r){const i=t.createShader(e);return t.shaderSource(i,r),t.compileShader(i),t.getShaderParameter(i,t.COMPILE_STATUS)?i:(console.error("An error occurred compiling the shaders: "+t.getShaderInfoLog(i)),t.deleteShader(i),null)}function Ep(t){const e=function(t,e,r){const i=Sp(t,t.VERTEX_SHADER,e),n=Sp(t,t.FRAGMENT_SHADER,r),s=t.createProgram();return t.attachShader(s,i),t.attachShader(s,n),t.linkProgram(s),t.getProgramParameter(s,t.LINK_STATUS)?s:(console.error("Unable to initialize the shader program: "+t.getProgramInfoLog(s)),null)}(t,"\n    attribute vec4 aVertexPosition;\n    attribute vec4 aVertexColor;\n\n    uniform mat4 uModelViewMatrix;\n    uniform mat4 uProjectionMatrix;\n\n    varying lowp vec4 vColor;\n\n    void main(void) {\n      gl_Position = uProjectionMatrix * uModelViewMatrix * aVertexPosition;\n      vColor = aVertexColor;\n    }\n  ","\n    varying lowp vec4 vColor;\n\n    void main(void) {\n      gl_FragColor = vColor;\n    }\n  ");return{programInfo:{program:e,attribLocations:{vertexPosition:t.getAttribLocation(e,"aVertexPosition"),vertexColor:t.getAttribLocation(e,"aVertexColor")},uniformLocations:{projectionMatrix:t.getUniformLocation(e,"uProjectionMatrix"),modelViewMatrix:t.getUniformLocation(e,"uModelViewMatrix")}},buffers:function(t){const e=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,e),t.bufferData(t.ARRAY_BUFFER,new Float32Array([1,1,-1,1,1,-1,-1,-1]),t.STATIC_DRAW);const r=t.createBuffer();return t.bindBuffer(t.ARRAY_BUFFER,r),t.bufferData(t.ARRAY_BUFFER,new Float32Array([1,1,1,1,1,0,0,1,0,1,0,1,0,0,1,1]),t.STATIC_DRAW),{position:e,color:r}}(t)}}class Rp{static create(t,e){const r=t.createWebGlBuffer(),i=t.createBuffer(r),n=new Rp(r,i,e);return r.listener=n,i.listener=n,n}constructor(t,e,r){this.proxy=t,this.bufferProxy=e,this._offscreenCanvas=r}transfer(){this.proxy.transfer(Ch.fromImageBitmap(this._offscreenCanvas.transferToImageBitmap()))}release(){}}class Pp{static create(t,e){const r=Lh.getRegistry(),i=new OffscreenCanvas(t,e),n=i.getContext("webgl"),s=new Pp(r,i,n);return r.listener=s,s}constructor(t,e,r){this._registry=t,this._offscreenCanvas=e,this._gl=r,this._webGL=null,this._compositor=null,this._shell=null,this._seat=null,this._surface=null,this._shellSurface=null,this._glBuffer=null}global(t,e,r){switch(e){case tr.protocolName:this._compositor=this._registry.bind(t,tr.protocolName,tr,r),this._surface=this._compositor.createSurface(),this._onFrame=(i=this._surface,()=>new Promise(t=>{const e=i.frame();e.listener={done:r=>{t(r),e.destroy()}}}));break;case Th.protocolName:this._webGL=this._registry.bind(t,Th.protocolName,Th,r),this._glBuffer=Rp.create(this._webGL,this._offscreenCanvas);break;case ds.protocolName:this._shell=this._registry.bind(t,ds.protocolName,ds,r);break;case so.protocolName:this._seat=this._registry.bind(t,so.protocolName,so,r),this._seat.listener=this}var i}init(){this._shellSurface=this._shell.getShellSurface(this._surface),this._shellSurface.listener=this,this._shellSurface.setToplevel(),this._shellSurface.setTitle("Simple WebGL"),this._drawState=Ep(this._gl)}async draw(t){requestAnimationFrame(()=>{!function(t,{programInfo:e,buffers:r},s){const a=.001*s;t.clearColor(0,0,0,.7),t.clearDepth(1),t.enable(t.DEPTH_TEST),t.depthFunc(t.LEQUAL),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT);const o=45*Math.PI/180,l=t.canvas.width/t.canvas.height,c=i.create();i.perspective(c,o,l,.1,100);const u=i.create();i.translate(u,u,n.fromValues(-0,0,-6)),i.rotate(u,u,a,n.fromValues(0,0,1));{const i=2,n=t.FLOAT,s=!1,a=0,o=0;t.bindBuffer(t.ARRAY_BUFFER,r.position),t.vertexAttribPointer(e.attribLocations.vertexPosition,i,n,s,a,o),t.enableVertexAttribArray(e.attribLocations.vertexPosition)}{const i=4,n=t.FLOAT,s=!1,a=0,o=0;t.bindBuffer(t.ARRAY_BUFFER,r.color),t.vertexAttribPointer(e.attribLocations.vertexColor,i,n,s,a,o),t.enableVertexAttribArray(e.attribLocations.vertexColor)}t.useProgram(e.program),t.uniformMatrix4fv(e.uniformLocations.projectionMatrix,!1,c),t.uniformMatrix4fv(e.uniformLocations.modelViewMatrix,!1,u),t.drawArrays(t.TRIANGLE_STRIP,0,4)}(this._gl,this._drawState,t),this._glBuffer.transfer(),this._surface.attach(this._glBuffer.bufferProxy,0,0),this._surface.damage(0,0,this._offscreenCanvas.width,this._offscreenCanvas.height),this._onFrame().then(t=>this.draw(t)),this._surface.commit(0),Lh.flush()})}globalRemove(t){}configure(t,e,r){}ping(t){this._shellSurface.pong(t)}popupDone(){}capabilities(t){t&so.Capability.pointer?(this._pointer=this._seat.getPointer(),this._pointer.listener=this):this._pointer&&(this._pointer.release(),this._pointer=null)}name(t){}axis(t,e,r){}axisDiscrete(t,e){}axisSource(t){}axisStop(t,e){}button(t,e,r,i){i&Us.ButtonState.pressed&&this._shellSurface.move(this._seat,t)}enter(t,e,r,i){}frame(){}leave(t,e){}motion(t,e,r){}}!async function(){const t=Pp.create(800,600),e=Lh.sync();Lh.flush(),await e,t.init(),t.draw(0),Lh.flush();try{await Lh.onClose(),console.log("Application exit.")}catch(t){console.error("Application terminated with error."),console.error(t.stackTrace)}}()}});